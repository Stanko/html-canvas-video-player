{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ce20720e1564388558ba","webpack:///./C:/projects/html-canvas-video-player/src/index.js"],"names":["DEFAULT_OPTIONS","framesPerSecond","hideVideo","autoplay","audio","timelineActions","timelineSelector","timelinePasedSelector","resetOnLastFrame","loop","CanvasVideoPlayer","options","_canvasClickHandler","playPause","_videoTimeUpdateHandler","_drawFrame","_updateTimeLine","_videoCanPlayHandler","_timeLineClick","offset","e","clientX","getOffset","_canvas","left","jumpTo","_timeline","offsetWidth","_windowResizeHandler","_setCanvasSize","_options","_video","document","querySelector","videoSelector","canvasSelector","_timelinePassed","timelinePassedSelector","console","error","_setAudio","_ctx","getContext","_playing","init","_audio","createElement","innerHTML","parentNode","insertBefore","load","_bind","style","display","play","pause","removeChild","_unbind","percentage","currentTime","duration","_lastTime","Date","now","_loop","window","addEventListener","readyState","removeEventListener","canvas","video","_width","clientWidth","_height","clientHeight","setAttribute","webkitTransform","transform","time","elapsed","currentVideoTime","Math","abs","_animationFrame","requestAnimationFrame","cancelAnimationFrame","drawImage","elem","rect","getBoundingClientRect","docElem","doc","width","height","getClientRects","length","ownerDocument","documentElement","top","pageYOffset","clientTop","pageXOffset","clientLeft"],"mappings":"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","file":"canvas-video-player.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"CanvasVideoPlayer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"CanvasVideoPlayer\"] = factory();\n\telse\n\t\troot[\"CanvasVideoPlayer\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ce20720e1564388558ba","const DEFAULT_OPTIONS = {\n\tframesPerSecond: 25,\n\thideVideo: true,\n\tautoplay: false,\n\taudio: false,\n\ttimelineActions: true,\n\ttimelineSelector: false,\n\ttimelinePasedSelector: false,\n\tresetOnLastFrame: true,\n\tloop: false,\n};\n\nexport default class CanvasVideoPlayer {\n\tconstructor(options = {}) {\n\t\tthis._options = Object.assign({}, DEFAULT_OPTIONS, options);\n\n\t\tthis._video = document.querySelector(this._options.videoSelector);\n\t\tthis._canvas = document.querySelector(this._options.canvasSelector);\n\t\tthis._timeline = document.querySelector(this._options.timelineSelector);\n\t\tthis._timelinePassed = document.querySelector(this._options.timelinePassedSelector);\n\n\t\tif (!this._options.videoSelector || !this._video) {\n\t\t\treturn console.error('No \"videoSelector\" property, or the element is not found');\n\t\t}\n\n\t\tif (!this._options.canvasSelector || !this._canvas) {\n\t\t\treturn console.error('No \"canvasSelector\" property, or the element is not found');\n\t\t}\n\n\t\tif (this._options.timelineSelector && !this._timeline) {\n\t\t\treturn console.error('Element for the \"timelineSelector\" selector not found');\n\t\t}\n\n\t\tif (this._options.timelineSelector && !this._timelinePassed) {\n\t\t\treturn console.error('Element for the \"timelinePassed\" not found');\n\t\t}\n\n\t\tif (this._options.audio) {\n\t\t\tthis._setAudio();\n\t\t}\n\n\t\tthis._ctx = this._canvas.getContext('2d');\n\n\t\tthis._playing = false;\n\n\t\tthis.init();\n\t}\n\n\t_setAudio() {\n\t\tif (typeof this._options.audio === 'string') {\n\t\t\tthis._audio = document.querySelector(this._options.audio);\n\n\t\t\treturn !this._audio && console.error('Element for the \"audio\" not found');\n\t\t}\n\n\t\tthis._audio = document.createElement('audio');\n\t\tthis._audio.innerHTML = this._video.innerHTML;\n\t\tthis._video.parentNode.insertBefore(this._audio, this._video);\n\t\tthis._audio.load();\n\t}\n\n\tinit() {\n\t\tthis._video.load();\n\n\t\tthis._setCanvasSize();\n\t\tthis._bind();\n\t\tthis._updateTimeLine();\n\n\t\tif (this._options.hideVideo) {\n\t\t\tthis._video.style.display = 'none';\n\t\t}\n\n\t\tif (this._options.autoplay) {\n\t\t\tthis.play();\n\t\t}\n\t}\n\n\tdestroy() {\n\t\tthis.pause();\n\n\t\tif (this._options.audio) {\n\t\t\tthis._audio.parentNode.removeChild(this._audio);\n\t\t}\n\n\t\tthis._unbind();\n\t}\n\n\tjumpTo(percentage) {\n\t\tthis._video.currentTime = this._video.duration * percentage;\n\n\t\tif (this._options.audio) {\n\t\t\tthis._audio.currentTime = this._audio.duration * percentage;\n\t\t}\n\t};\n\n\tplay() {\n\t\tthis._lastTime = Date.now();\n\t\tthis._playing = true;\n\t\tthis._loop();\n\n\t\tif (this._options.audio) {\n\t\t\tthis._audio.currentTime = this._video.currentTime;\n\t\t\tthis._audio.play();\n\t\t}\n\t}\n\n\tpause() {\n\t\tthis._playing = false;\n\n\t\tif (this._options.audio) {\n\t\t\tthis._audio.pause();\n\t\t}\n\t}\n\n\tplayPause() {\n\t\tif (this._playing) {\n\t\t\tthis.pause();\n\t\t} else {\n\t\t\tthis.play();\n\t\t}\n\t}\n\n\t_bind() {\n\t\twindow.addEventListener('resize', this._windowResizeHandler);\n\n\t\tthis._canvas.addEventListener('click', this._canvasClickHandler);\n\n\t\tthis._video.addEventListener('timeupdate', this._videoTimeUpdateHandler);\n\t\tthis._video.addEventListener('canplay', this._videoCanPlayHandler);\n\n\t\tif (this._options.timelineActions) {\n\t\t\tthis._timeline.addEventListener('click', this._timeLineClick);\n\t\t}\n\n\t\tif (this._video.readyState >= 2) {\n\t\t\tthis._drawFrame();\n\t\t}\n\t}\n\n\t_unbind() {\n\t\twindow.removeEventListener('resize', this._windowResizeHandler);\n\n\t\tthis.canvas.removeEventListener('click', this._canvasClickHandler);\n\n\t\tthis.video.removeEventListener('timeupdate', this._videoTimeUpdateHandler);\n\t\tthis.video.removeEventListener('canplay', this._videoCanPlayHandler);\n\n\t\tif (this._options.timelineActions) {\n\t\t\tthis._timeline.removeEventListener('click', this._timeLineClick);\n\t\t}\n\t}\n\n\t_setCanvasSize() {\n\t\tthis._width = this._canvas.clientWidth;\n\t\tthis._height = this._canvas.clientHeight;\n\n\t\tthis._canvas.setAttribute('width', this._width);\n\t\tthis._canvas.setAttribute('height', this._height);\n\t}\n\n\t_updateTimeLine() {\n\t\tif (this._options.timelineSelector) {\n\t\t\tconst percentage = -100 + (this._video.currentTime || 0) / this._video.duration * 100;\n\n\t\t\tthis._timelinePassed.style.webkitTransform = `translateX(${percentage}%)`;\n\t\t\tthis._timelinePassed.style.transform = `translateX(${percentage}%)`;\n\t\t}\n\t}\n\n\t_loop() {\n\t\tconst time = Date.now();\n\t\tconst elapsed = (time - this._lastTime) / 1000;\n\t\tconst currentVideoTime = this._video.currentTime;\n\n\t\tif (elapsed >= (1 / this._options.framesPerSecond)) {\n\t\t\tthis._video.currentTime = currentVideoTime + elapsed;\n\t\t\tthis._lastTime = time;\n\n\t\t\tif (this._audio && Math.abs(this._audio.currentTime - currentVideoTime) > 0.2) {\n\t\t\t\tthis._audio.currentTime = currentVideoTime;\n\t\t\t}\n\t\t}\n\n\t\tif (currentVideoTime >= this._video.duration) {\n\t\t\tthis._playing = false;\n\n\t\t\tif (this._options.resetOnLastFrame === true) {\n\t\t\t\tthis._video.currentTime = 0;\n\t\t\t}\n\n\t\t\tif (this._options.loop === true) {\n\t\t\t\tthis._video.currentTime = 0;\n\t\t\t\tthis.play();\n\t\t\t}\n\t\t}\n\n\t\tif (this._playing) {\n\t\t\tthis._animationFrame = requestAnimationFrame(() => this._loop());\n\t\t} else {\n\t\t\tcancelAnimationFrame(this._animationFrame);\n\t\t}\n\t}\n\n\t_drawFrame() {\n\t\tthis._ctx.drawImage(this._video, 0, 0, this._width, this._height);\n\t}\n\n\t_canvasClickHandler = () => {\n\t\tthis.playPause();\n\t};\n\n\t_videoTimeUpdateHandler = () => {\n\t\tthis._drawFrame();\n\t\tthis._updateTimeLine();\n\t};\n\n\t_videoCanPlayHandler = () => {\n\t\tthis._drawFrame();\n\t};\n\n\t_timeLineClick = e => {\n\t\tconst offset = e.clientX - CanvasVideoPlayer.getOffset(this._canvas).left;\n\n\t\tthis.jumpTo(offset / this._timeline.offsetWidth);\n\t};\n\n\t_windowResizeHandler = () => {\n\t\tthis._setCanvasSize();\n\t\tthis._drawFrame();\n\t};\n\n\tstatic getOffset(elem) {\n\t\tif (!elem) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst rect = elem.getBoundingClientRect();\n\t\tlet docElem;\n\t\tlet doc;\n\n\t\tif (rect.width || rect.height || elem.getClientRects().length) {\n\t\t\tdoc = elem.ownerDocument;\n\t\t\tdocElem = doc.documentElement;\n\n\t\t\treturn {\n\t\t\t\ttop: rect.top + window.pageYOffset - docElem.clientTop,\n\t\t\t\tleft: rect.left + window.pageXOffset - docElem.clientLeft,\n\t\t\t};\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./C:/projects/html-canvas-video-player/src/index.js"],"sourceRoot":""}